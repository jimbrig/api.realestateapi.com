get:
  summary: Property Search with OData Query Syntax
  description: |
    Query properties using OData syntax for advanced filtering and querying.
    Supports standard OData operators like $filter, $select, $top, and $skip.
  operationId: propertySearchOData
  tags:
    - v2
    - Search
    - OData
  parameters:
    - $ref: ../components/parameters/ApiKeyHeader.yml
    - $ref: ../components/parameters/UserIdHeader.yml
    - name: $filter
      in: query
      description: OData filter expression
      required: false
      schema:
        type: string
      examples:
        location:
          summary: Filter by location
          value: state eq 'GA' and county eq 'Fulton'
        value:
          summary: Filter by property value
          value: estimatedValue gt 200000 and estimatedValue lt 500000
        features:
          summary: Filter by property features
          value: bedrooms ge 3 and bathrooms ge 2
    - name: $select
      in: query
      description: Comma-separated list of fields to return
      required: false
      schema:
        type: string
      example: id,address,bedrooms,bathrooms,assessedValue
    - name: $top
      in: query
      description: Number of results to return
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 1000
        default: 10
      example: 25
    - name: $skip
      in: query
      description: Number of results to skip for pagination
      required: false
      schema:
        type: integer
        minimum: 0
        default: 0
      example: 50
    - name: $orderby
      in: query
      description: Field to sort by with optional direction
      required: false
      schema:
        type: string
      examples:
        value_asc:
          summary: Sort by value ascending
          value: estimatedValue asc
        date_desc:
          summary: Sort by date descending
          value: lastSaleDate desc
  responses:
    '200':
      description: Successful OData query response
      content:
        application/json:
          schema:
            $ref: ../components/schemas/PropertySearchResponse.yml
    '400':
      $ref: ../components/responses/BadRequest.yml
    '401':
      $ref: ../components/responses/Unauthorized.yml
    '500':
      $ref: ../components/responses/InternalServerError.yml
